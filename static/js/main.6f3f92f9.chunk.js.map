{"version":3,"sources":["Components/Searchbar/Searchbar.js","Components/Modal/Modal.js","Components/ImageGalleryItem/ImageGalleryItem.js","Components/Button/Button.js","Components/Error/Error.js","Components/Loader/Loader.js","Api/api.js","Components/ImageGallery/ImageGallery.js","App.js","index.js"],"names":["Searchbar","state","query","handleQuery","evt","setState","currentTarget","value","toLowerCase","handleSubmit","preventDefault","props","onSubmit","className","this","type","autoComplete","autoFocus","placeholder","onChange","Component","modalRoot","document","querySelector","Modal","handleKeyDown","code","onClose","onBackdropClick","target","window","addEventListener","removeEventListener","createPortal","onClick","children","ImageGalleryItem","largeImg","showModal","toggleModal","onImgClick","smallImage","largeImage","id","tags","src","alt","Button","Error","role","LoaderFunk","color","height","width","timeout","api","apiServise","page","fetch","then","response","ok","json","Promise","reject","Status","ImageGallery","images","status","error","onLoadMore","prevProps","prevState","hits","length","prev","catch","message","scrollTo","top","documentElement","scrollHeight","behavior","map","image","webformatURL","largeImageURL","Loader","App","handleFormSubmit","data","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.6f3f92f9.chunk.js","sourcesContent":["import { Component } from \"react\";\n\nclass Searchbar extends Component {\n  state = {\n    query: \"\",\n  };\n\n  handleQuery = (evt) => {\n    this.setState({ query: evt.currentTarget.value.toLowerCase() });\n  };\n\n  handleSubmit = (evt) => {\n    evt.preventDefault();\n\n    this.props.onSubmit(this.state.query);\n    this.setState({ query: \"\" });\n  };\n\n  render() {\n    return (\n      <header className=\"Searchbar\">\n        <form className=\"SearchForm\" onSubmit={this.handleSubmit}>\n          <button type=\"submit\" className=\"SearchForm-button\">\n            <span className=\"SearchForm-button-label\">Search</span>\n          </button>\n\n          <input\n            className=\"SearchForm-input\"\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            onChange={this.handleQuery}\n            value={this.state.query}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nexport default Searchbar;\n","import { Component } from \"react\";\nimport { createPortal } from \"react-dom\";\n\nconst modalRoot = document.querySelector(\"#modal-root\");\n\nclass Modal extends Component {\n  componentDidMount() {\n    window.addEventListener(\"keydown\", this.handleKeyDown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"keydown\", this.handleKeyDown);\n  }\n\n  handleKeyDown = (evt) => {\n    if (evt.code === \"Escape\") {\n      this.props.onClose();\n    }\n  };\n\n  onBackdropClick = (evt) => {\n    if (evt.currentTarget === evt.target) {\n      this.props.onClose();\n    }\n  };\n\n  render() {\n    return createPortal(\n      <div className=\"Overlay\" onClick={this.onBackdropClick}>\n        <div className=\"Modal\">{this.props.children}</div>\n      </div>,\n      modalRoot\n    );\n  }\n}\n\nexport default Modal;\n","import { Component } from \"react\";\nimport Modal from \"../Modal\";\n\nclass ImageGalleryItem extends Component {\n  state = {\n    largeImg: \"\",\n    showModal: false,\n  };\n\n  toggleModal = () => {\n    this.setState(({ showModal }) => ({ showModal: !showModal }));\n  };\n\n  onImgClick = (largeImg) => {\n    this.setState({ largeImg: largeImg });\n    this.toggleModal();\n  };\n\n  render() {\n    const { smallImage, largeImage, id, tags } = this.props;\n\n    return (\n      <>\n        <li\n          className=\"ImageGalleryItem\"\n          key={id}\n          id={id}\n          onClick={() => this.onImgClick(largeImage)}\n        >\n          <img src={smallImage} alt={tags} className=\"ImageGalleryItem-image\" />\n        </li>\n\n        {this.state.showModal && (\n          <Modal onClose={this.toggleModal}>\n            <img src={this.state.largeImg} alt=\"\" />\n          </Modal>\n        )}\n      </>\n    );\n  }\n}\n\nexport default ImageGalleryItem;\n","const Button = ({ onClick }) => {\n  return (\n    <button onClick={onClick} type=\"button\" className=\"Button\">\n      Load more\n    </button>\n  );\n};\n\nexport default Button;\n","const Error = ({ query }) => {\n  return (\n    <div className=\"error\" role=\"alert\">\n      <h2>No matches found on \"{query}\"</h2>\n    </div>\n  );\n};\n\nexport default Error;\n","import Loader from \"react-loader-spinner\";\n\nconst LoaderFunk = () => {\n  return (\n    <Loader\n      type=\"Audio\"\n      color=\"#00BFFF\"\n      height={100}\n      width={100}\n      timeout={3000} //3 secs\n    />\n  );\n};\n\nexport default LoaderFunk;\n","function apiServise(query, page) {\n  const baseURL = \"https://pixabay.com/api/\";\n  const KEY = \"21845085-bf7da5e4527dd4de2f5d726ec\";\n\n  return fetch(\n    `${baseURL}?q=${query}&page=${page}&key=${KEY}&image_type=photo&orientation=horizontal&per_page=12`\n  ).then((response) => {\n    if (response.ok) {\n      return response.json();\n    }\n\n    return Promise.reject(new Error(\"No matches found\"));\n  });\n}\n\nconst api = { apiServise };\n\nexport default api;\n","import { Component } from \"react\";\n\nimport ImageGalleryItem from \"../ImageGalleryItem\";\nimport Button from \"../Button\";\nimport Error from \"../Error\";\nimport Loader from \"../Loader\";\nimport api from \"../../Api/api\";\n\nconst Status = {\n  IDLE: \"idle\",\n  PENDING: \"pending\",\n  RESOLVED: \"resolved\",\n  REJECTED: \"rejected\",\n};\n\nclass ImageGallery extends Component {\n  state = {\n    page: 1,\n    images: [],\n    status: Status.IDLE,\n    error: \"\",\n  };\n\n  componentDidMount() {\n    this.setState({ page: 1 });\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    const { query } = this.props;\n    const { page } = this.state;\n\n    if (prevProps.query !== query) {\n      this.setState({ page: 1, images: [] });\n    }\n\n    if (prevProps.query !== query || prevState.page !== page) {\n      this.setState({ status: Status.PENDING });\n\n      api\n        .apiServise(query, page)\n        .then((response) => {\n          if (response.hits.length !== 0) {\n            this.setState((prev) => ({\n              images: [...prev.images, ...response.hits],\n              status: Status.RESOLVED,\n            }));\n          } else {\n            this.setState({ status: Status.REJECTED });\n          }\n        })\n        .catch((error) => this.setState({ error: error.message }));\n    }\n\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: \"smooth\",\n    });\n  }\n\n  onLoadMore = () => {\n    this.setState({ page: this.state.page + 1 });\n  };\n\n  render() {\n    const { images, status } = this.state;\n    const { query } = this.props;\n\n    if (status === \"idle\") {\n      return <div className=\"start\">☝</div>;\n    }\n\n    if (status === \"resolved\" && images.length !== 0) {\n      return (\n        <>\n          <ul className=\"ImageGallery\">\n            {images.map((image) => (\n              <ImageGalleryItem\n                key={image.webformatURL}\n                smallImage={image.webformatURL}\n                largeImage={image.largeImageURL}\n                id={image.id}\n                tags={image.tags}\n              />\n            ))}\n          </ul>\n          {images.length > 0 && <Button onClick={this.onLoadMore} />}\n        </>\n      );\n    }\n\n    if (status === \"pending\") {\n      return (\n        <div className=\"wrapperLoader\">\n          <Loader />\n        </div>\n      );\n    }\n    if (status === \"rejected\") {\n      return <Error query={query} />;\n    }\n  }\n}\n\nexport default ImageGallery;\n","import { Component } from \"react\";\n\nimport Searchbar from \"./Components/Searchbar\";\nimport ImageGallery from \"./Components/ImageGallery\";\n\nimport \"./styles.css\";\n\nclass App extends Component {\n  state = {\n    query: \"\",\n  };\n\n  handleFormSubmit = (data) => {\n    this.setState({ query: data });\n  };\n\n  render() {\n    return (\n      <div className=\"App\">\n        <Searchbar onSubmit={this.handleFormSubmit} />\n        <ImageGallery query={this.state.query} />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}